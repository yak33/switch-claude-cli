# 更新日志

所有项目的重要变更都记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，并且本项目遵守 [语义化版本控制](https://semver.org/lang/zh-CN/)。

## [1.1.0] - 2024-09-21

### 新增
- 🏠 **用户目录配置**：配置文件现在存储在 `~/.switch-claude/` 目录下
- 🎉 **首次运行体验**：自动创建配置目录和示例配置文件
- 📚 **欢迎界面**：首次运行时显示完整的帮助信息
- 🔧 **跨平台支持**：自动检测操作系统并提供对应的文件编辑命令

### 改进
- ✨ **用户友好显示**：移除 HTTP 状态码，普通用户只看到"可用/不可用"
- 🔍 **详细模式**：使用 `-v` 参数可查看技术详情（状态码、响应时间等）
- 🎯 **编号一致性**：修复交互选择界面编号显示错误的问题
- 🛡️ **更好的错误处理**：改进配置文件缺失时的提示信息

### 技术改进
- 📁 **配置管理**：使用用户主目录，避免权限问题
- 🔄 **缓存位置**：缓存文件移至配置目录下
- 🎨 **代码优化**：改进索引映射逻辑，修复引用匹配问题

## [1.0.0] - 2024-09-21

### 新增
- 🚀 **核心功能**：Claude API Provider 智能切换
- ⚡ **智能检测**：多端点测试和重试机制
- 💾 **缓存机制**：5分钟缓存，避免重复检测
- 🎯 **灵活选择**：支持默认 provider 和交互式选择
- 🔧 **配置管理**：完整的 provider 增删改查功能
- 📊 **详细日志**：可选的详细模式显示
- 🛡️ **错误处理**：完善的错误处理和用户提示

### 支持的功能
- `switch-claude` - 交互式选择 provider
- `switch-claude <编号>` - 直接选择指定 provider
- `switch-claude --add` - 添加新 provider
- `switch-claude --remove <编号>` - 删除 provider
- `switch-claude --set-default <编号>` - 设置默认 provider
- `switch-claude --clear-default` - 清除默认设置
- `switch-claude --list` - 列出所有 providers
- `switch-claude --refresh` - 强制刷新缓存
- `switch-claude --verbose` - 详细模式
- `switch-claude --env-only` - 仅设置环境变量
- `switch-claude --help` - 显示帮助信息

### 技术特性
- 📦 **零配置启动**：首次运行自动初始化
- 🔒 **安全设计**：API Key 部分遮码显示
- 🌐 **跨平台支持**：Windows、macOS、Linux
- 📋 **智能验证**：配置文件格式和内容验证
- ⚡ **性能优化**：并行检测和结果缓存

## [未来计划]

### 计划中的功能
- 🔄 **自动更新检查**
- 📈 **使用统计**：响应时间趋势
- 🔔 **通知系统**：服务状态变化提醒
- 🎨 **主题支持**：自定义显示样式
- 🌍 **国际化**：多语言支持
- 🔌 **插件系统**：支持自定义扩展

### 改进计划
- 更好的错误诊断和建议
- 配置文件热重载
- 更丰富的健康检查指标
- GUI 界面支持

---

格式说明：
- `新增` - 新功能
- `改进` - 对现有功能的改进
- `修复` - Bug 修复
- `移除` - 移除的功能
- `安全` - 安全相关的修复